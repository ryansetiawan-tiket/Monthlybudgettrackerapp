# Phase 7 & 8: Visual Planning Summary

**Quick visual reference for implementation**

---

## ğŸ¯ Phase 7: Smart Filtering (45-60 mins)

### What User Will See

```
BEFORE (Current State):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Kategori Tab                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Pie Chart]                            â”‚
â”‚   ğŸ” Makanan (37%)                      â”‚
â”‚   ğŸ“¦ Lainnya (35%)                      â”‚
â”‚   ğŸ’³ Pinjaman (18%)                     â”‚
â”‚                                         â”‚
â”‚  User sees chart but can't interact âŒ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AFTER (Phase 7):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Kategori Tab                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Pie Chart - CLICKABLE! ğŸ‘†]           â”‚
â”‚   ğŸ” Makanan (37%) â† User clicks       â”‚
â”‚   ğŸ“¦ Lainnya (35%)                      â”‚
â”‚   ğŸ’³ Pinjaman (18%)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ Auto switches tab
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pengeluaran Tab                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” Filter: ğŸ” Makanan  7 items  [X]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 7 Nov - Rp 50.000                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” Nasi Goreng   Rp 25.000         â”‚ â”‚
â”‚ â”‚ ğŸ” Kopi           Rp 15.000         â”‚ â”‚
â”‚ â”‚ ğŸ” Lunch          Rp 10.000         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ 6 Nov - Rp 30.000                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” Breakfast      Rp 20.000         â”‚ â”‚
â”‚ â”‚ ğŸ” Snack          Rp 10.000         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚ Only Makanan expenses shown! âœ…         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Component Architecture

```
App.tsx
â”œâ”€â”€ State
â”‚   â”œâ”€â”€ categoryFilter: Set<ExpenseCategory>
â”‚   â””â”€â”€ handleCategoryClick(category)
â”‚       â”œâ”€â”€ setCategoryFilter(new Set([category]))
â”‚       â””â”€â”€ setActiveTab('expenses')
â”‚
â”œâ”€â”€ CategoryBreakdown Component
â”‚   â”œâ”€â”€ Props: onCategoryClick, activeFilter
â”‚   â””â”€â”€ <Pie onClick={(data) => onCategoryClick(data.category)} />
â”‚
â””â”€â”€ ExpenseList Component
    â”œâ”€â”€ Props: categoryFilter, onClearFilter
    â”œâ”€â”€ Filter logic in useMemo
    â””â”€â”€ CategoryFilterBadge
        â””â”€â”€ Shows: "ğŸ” Filter: ğŸ” Makanan  7 items  [X]"
```

### Files to Touch

```
âœï¸  Modify:
    /types/index.ts                  (+5 lines)
    /App.tsx                         (+20 lines)
    /components/CategoryBreakdown.tsx (+30 lines)
    /components/ExpenseList.tsx      (+40 lines)

âœ¨ Create:
    /components/CategoryFilterBadge.tsx (NEW - 80 lines)

Total: ~165 lines of code
```

---

## ğŸ¨ Phase 8: Customization (2-3 hours)

### What User Will See

```
CATEGORY MANAGER PANEL:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Kelola Kategori                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ ğŸ“¦ Kategori Default (11)        [Reset All]    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”  Makanan              ğŸ¨ [Edit]          â”‚ â”‚
â”‚ â”‚     Budget: Rp 1.000.000                    â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸš—  Transportasi         ğŸ¨ [Edit]          â”‚ â”‚
â”‚ â”‚     No budget set                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚ â­ Kategori Custom (2)     [+ Tambah Kategori] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ®  Gaming               ğŸ¨ [Edit] [Delete] â”‚ â”‚
â”‚ â”‚     Budget: Rp 500.000 (90% used âš ï¸)       â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸ“¸  Photography          ğŸ¨ [Edit] [Delete] â”‚ â”‚
â”‚ â”‚     No budget set                           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚ [Export JSON] [Import JSON]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
CATEGORY EDITOR DIALOG:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Buat Kategori Baru            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                               â”‚
â”‚ Emoji:                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚        ğŸ®                â”‚  â”‚ â† Click to open emoji picker
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚
â”‚ Nama Kategori:                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Gaming                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ 6/50 characters               â”‚
â”‚                               â”‚
â”‚ Warna:                        â”‚
â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ğŸ”´ â”‚ â”‚ #FF5733            â”‚ â”‚ â† Color preview + hex input
â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                               â”‚
â”‚ [Color Picker Panel]          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚  [Gradient color wheel]  â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚
â”‚     [Batal]  [Simpan]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
BUDGET LIMIT EDITOR:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Budget Limit: ğŸ® Gaming       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                               â”‚
â”‚ Aktifkan Budget Limit  [ON]   â”‚
â”‚                               â”‚
â”‚ Limit per Bulan:              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 500000                   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ Rp 500.000                    â”‚
â”‚                               â”‚
â”‚ Peringatan pada 75%           â”‚
â”‚ â”œâ”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â† Slider
â”‚ 50%                      95%  â”‚
â”‚                               â”‚
â”‚ Peringatan muncul saat        â”‚
â”‚ mencapai Rp 375.000           â”‚
â”‚                               â”‚
â”‚ Reset Tanggal (1-31):         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ 1                        â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ Budget reset setiap tgl 1     â”‚
â”‚                               â”‚
â”‚     [Batal]  [Simpan]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
PIE CHART WITH BUDGET INDICATORS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Pie Chart - Color Coded]      â”‚
â”‚                                 â”‚
â”‚   ğŸ” Makanan (37%)              â”‚
â”‚   â”œâ”€ Green: Under 70% budget âœ… â”‚
â”‚                                 â”‚
â”‚   ğŸ“¦ Lainnya (35%)              â”‚
â”‚   â”œâ”€ Gray: No budget set        â”‚
â”‚                                 â”‚
â”‚   ğŸ® Gaming (18%)               â”‚
â”‚   â”œâ”€ Red: Over 90% budget âš ï¸   â”‚
â”‚                                 â”‚
â”‚   ğŸš— Transport (10%)            â”‚
â”‚   â””â”€ Orange: 70-90% budget âš¡   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Data Structure

```typescript
// Stored in Supabase KV: category_settings_{userId}
{
  "version": 1,
  
  // User's custom categories
  "custom": {
    "gaming_abc123": {
      "id": "gaming_abc123",
      "emoji": "ğŸ®",
      "label": "Gaming",
      "color": "#FF5733",
      "createdAt": "2025-11-07T10:00:00Z",
      "updatedAt": "2025-11-07T10:00:00Z"
    },
    "photography_xyz789": { ... }
  },
  
  // Overrides for default categories
  "overrides": {
    "food": {
      "emoji": "ğŸœ",      // Changed from ğŸ”
      "color": "#FFD700"  // Changed from default
    }
  },
  
  // Budget limits
  "budgets": {
    "food": {
      "limit": 1000000,
      "warningAt": 80,
      "enabled": true,
      "resetDay": 1
    },
    "gaming_abc123": {
      "limit": 500000,
      "warningAt": 75,
      "enabled": true,
      "resetDay": 1
    }
  },
  
  // Category order in dropdowns
  "order": [
    "food",
    "transport",
    "gaming_abc123",     // Custom mixed with defaults
    "photography_xyz789",
    "savings",
    ...
  ]
}
```

### Component Architecture

```
App.tsx
â”œâ”€â”€ useCategorySettings()
â”‚   â”œâ”€â”€ settings: CategorySettings
â”‚   â”œâ”€â”€ loading: boolean
â”‚   â””â”€â”€ updateSettings()
â”‚
â”œâ”€â”€ allCategories = getAllCategories(settings)
â”‚   â””â”€â”€ Merges: default + custom + overrides
â”‚
â”œâ”€â”€ CategoryManager Component
â”‚   â”œâ”€â”€ CategoryList (default)
â”‚   â”œâ”€â”€ CategoryList (custom)
â”‚   â”œâ”€â”€ CategoryEditorDialog
â”‚   â”‚   â”œâ”€â”€ Emoji Picker
â”‚   â”‚   â”œâ”€â”€ Color Picker
â”‚   â”‚   â””â”€â”€ Label Input
â”‚   â””â”€â”€ BudgetLimitEditorDialog
â”‚       â”œâ”€â”€ Enable Toggle
â”‚       â”œâ”€â”€ Limit Input
â”‚       â”œâ”€â”€ Warning Slider
â”‚       â””â”€â”€ Reset Day
â”‚
â””â”€â”€ Updated Dropdowns
    â”œâ”€â”€ AddExpenseForm
    â”‚   â””â”€â”€ Uses allCategories (not EXPENSE_CATEGORIES)
    â”œâ”€â”€ BulkEditCategory
    â”‚   â””â”€â”€ Uses allCategories
    â””â”€â”€ CategoryBreakdown
        â””â”€â”€ Shows budget indicators
```

### Files to Touch

```
âœï¸  Modify:
    /types/index.ts                        (+80 lines)
    /App.tsx                               (+30 lines)
    /components/AddExpenseForm.tsx         (+10 lines)
    /components/BulkEditCategoryDialog.tsx (+10 lines)
    /components/CategoryBreakdown.tsx      (+40 lines)
    /supabase/functions/server/index.tsx   (+200 lines)

âœ¨ Create:
    /utils/categoryManager.ts              (NEW - 150 lines)
    /hooks/useCategorySettings.ts          (NEW - 60 lines)
    /components/CategoryManager.tsx        (NEW - 180 lines)
    /components/CategoryEditorDialog.tsx   (NEW - 120 lines)
    /components/BudgetLimitEditorDialog.tsx (NEW - 100 lines)

Total: ~850 lines of code
```

---

## ğŸ“Š Implementation Timeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 7: Smart Filtering (45-60 mins)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Session 1: Core (30 mins)                       â”‚
â”‚ â”œâ”€ Types          [â–ˆâ–ˆâ–ˆâ–ˆâ–‘] 5 min                 â”‚
â”‚ â”œâ”€ App.tsx        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘] 10 min            â”‚
â”‚ â””â”€ CategoryBreak  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚                                                  â”‚
â”‚ Session 2: UI (30 mins)                         â”‚
â”‚ â”œâ”€ FilterBadge    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘] 10 min            â”‚
â”‚ â”œâ”€ ExpenseList    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚ â””â”€ Wire           [â–ˆâ–ˆâ–ˆâ–ˆâ–‘] 5 min                 â”‚
â”‚                                                  â”‚
â”‚ Testing           [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 8: Customization (2-3 hours)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Session 1: Infrastructure (45 mins)             â”‚
â”‚ â”œâ”€ Types          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘] 10 min            â”‚
â”‚ â”œâ”€ Utils          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚ â””â”€ API            [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 20 min â”‚
â”‚                                                  â”‚
â”‚ Session 2: UI Components (60 mins)              â”‚
â”‚ â”œâ”€ Editor Dialog  [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 30 min â”‚
â”‚ â”œâ”€ Manager        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 25 min â”‚
â”‚ â””â”€ Budget (place) [â–ˆâ–ˆâ–ˆâ–ˆâ–‘] 5 min                 â”‚
â”‚                                                  â”‚
â”‚ Session 3: Integration (30 mins)                â”‚
â”‚ â”œâ”€ Hook           [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚ â”œâ”€ App.tsx        [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘] 10 min            â”‚
â”‚ â””â”€ Dropdowns      [â–ˆâ–ˆâ–ˆâ–ˆâ–‘] 5 min                 â”‚
â”‚                                                  â”‚
â”‚ Session 4: Budget (30 mins)                     â”‚
â”‚ â”œâ”€ Limit Editor   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚ â””â”€ Indicators     [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 15 min     â”‚
â”‚                                                  â”‚
â”‚ Testing           [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 40 min â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Total: 3-4 hours
```

---

## ğŸ¯ Quick Decision Tree

```
START: User wants Phase 7 & 8
â”‚
â”œâ”€ Do Phase 7 first? â”€â”€YESâ”€â”€> Implement Phase 7 (1 hour)
â”‚                              â”‚
â”‚                              â”œâ”€ Test thoroughly âœ“
â”‚                              â”‚
â”‚                              â””â”€ User happy? â”€â”€YESâ”€â”€> Continue to Phase 8
â”‚                                              â”‚
â”‚                                              NOâ”€â”€> Fix issues, re-test
â”‚
â””â”€ Skip to Phase 8? â”€â”€NOT RECOMMENDED
                      (Phase 7 is foundation)
```

### When to Implement Each Phase

**Implement Phase 7 if**:
- âœ… User wants quick wins (filtering is instant value)
- âœ… User has lots of expenses in different categories
- âœ… User wants better expense analysis
- âœ… Low risk, high reward

**Implement Phase 8 if**:
- âœ… Phase 7 is complete and tested
- âœ… User has specific categories not in defaults
- âœ… User wants budget control per category
- âœ… User wants long-term customization

**Skip if**:
- âŒ User is happy with current categories (11 defaults)
- âŒ User doesn't track budgets per category
- âŒ Time constrained (Phase 8 is 2-3 hours)

---

## ğŸš¦ Go/No-Go Checklist

### Pre-Phase 7 Checks
- [ ] CategoryBreakdown working correctly
- [ ] ExpenseList working correctly
- [ ] User confirmed they want filtering
- [ ] 1 hour available for implementation

### Pre-Phase 8 Checks
- [ ] Phase 7 complete and tested
- [ ] Supabase KV Store accessible
- [ ] User confirmed they want customization
- [ ] 2-3 hours available for implementation
- [ ] User understands database changes involved

---

## ğŸ’¡ Key Design Decisions

### Phase 7

**Decision 1**: Use `Set<ExpenseCategory>` for filter state
- âœ… Pro: O(1) lookup, easy multi-select later
- âœ… Pro: Efficient for large expense lists
- âŒ Con: Can't serialize to URL params easily
- **Verdict**: Good choice for performance

**Decision 2**: Auto-switch tab on pie chart click
- âœ… Pro: Intuitive UX (see results immediately)
- âœ… Pro: Clear cause-and-effect
- âŒ Con: Might be unexpected first time
- **Verdict**: Include visual feedback (highlight slice)

### Phase 8

**Decision 1**: Store in Supabase KV (not localStorage)
- âœ… Pro: Syncs across devices
- âœ… Pro: Persistent, reliable
- âœ… Pro: Scalable for future features
- âŒ Con: Requires backend changes
- **Verdict**: Worth it for multi-device support

**Decision 2**: Allow editing default categories (via overrides)
- âœ… Pro: User can personalize fully
- âœ… Pro: Non-destructive (can reset)
- âŒ Con: Slightly more complex logic
- **Verdict**: Provides flexibility without risk

**Decision 3**: Custom category IDs with random suffix
- âœ… Pro: Avoids collisions
- âœ… Pro: URL-safe
- âœ… Pro: Sortable by name
- âŒ Con: Not pure UUID
- **Verdict**: Good balance of readability & uniqueness

---

## ğŸ“± Mobile vs Desktop Considerations

### Phase 7

**Mobile**:
- Filter badge takes full width
- Clear button (X) min 44x44px touch target
- Pie chart click area generous (full slice)
- Empty state optimized for small screens

**Desktop**:
- Filter badge inline with search/sort
- Hover states on pie chart slices
- Keyboard navigation (Escape to clear filter)
- Multi-category filter dropdown (Phase 7.1)

### Phase 8

**Mobile**:
- CategoryManager in Drawer (not Dialog)
- Emoji picker opens in modal (not inline)
- Color picker simplified (preset colors + custom)
- Swipe to delete custom categories

**Desktop**:
- CategoryManager in Dialog
- Emoji picker inline with input
- Full color picker with gradient wheel
- Delete with confirmation dialog

---

## ğŸ‰ Success Indicators

### Phase 7 Success
User says:
- âœ… "Wow, that's fast!"
- âœ… "This makes it so easy to see my food expenses"
- âœ… "I love clicking the chart"
- âœ… "Filter badge is clear"

### Phase 8 Success
User says:
- âœ… "Finally I can track my gaming expenses properly"
- âœ… "Budget warnings help me stay on track"
- âœ… "Love that I can customize everything"
- âœ… "This matches my lifestyle perfectly"

---

## ğŸ”— Quick Links

**Planning Documents**:
- [Phase 7 Detailed Planning](/planning/expense-categories/PHASE_7_PLANNING.md)
- [Phase 8 Detailed Planning](/planning/expense-categories/PHASE_8_PLANNING.md)
- [Implementation Roadmap](/planning/expense-categories/PHASE_7_8_ROADMAP.md)
- [Reminder File](/planning/expense-categories/PHASE_7_8_REMINDER.md)

**Current Status**:
- [Implementation Log](/planning/expense-categories/IMPLEMENTATION_LOG.md)
- [Quick Reference](/planning/expense-categories/QUICK_REFERENCE.md)

---

**Ready to build!** ğŸš€

When user says go, start with:
**Phase 7 â†’ Step 1: Update /types/index.ts**

---

**Last Updated**: November 7, 2025  
**Version**: 1.0  
**Status**: âœ… COMPLETE
